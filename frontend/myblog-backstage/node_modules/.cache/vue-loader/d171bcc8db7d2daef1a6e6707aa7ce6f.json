{"remainingRequest":"D:\\data\\GoWorkSpace\\src\\github.com.qq4215279\\MyBlog\\frontend\\myblog-backstage\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\data\\GoWorkSpace\\src\\github.com.qq4215279\\MyBlog\\frontend\\myblog-backstage\\src\\page\\index\\tags.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\data\\GoWorkSpace\\src\\github.com.qq4215279\\MyBlog\\frontend\\myblog-backstage\\src\\page\\index\\tags.vue","mtime":1616327517476},{"path":"D:\\data\\GoWorkSpace\\src\\github.com.qq4215279\\MyBlog\\frontend\\myblog-backstage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\data\\GoWorkSpace\\src\\github.com.qq4215279\\MyBlog\\frontend\\myblog-backstage\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\data\\GoWorkSpace\\src\\github.com.qq4215279\\MyBlog\\frontend\\myblog-backstage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\data\\GoWorkSpace\\src\\github.com.qq4215279\\MyBlog\\frontend\\myblog-backstage\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQge21hcEdldHRlcnN9IGZyb20gInZ1ZXgiOw0KZXhwb3J0IGRlZmF1bHQgew0KICAgIGRhdGEoKXsNCiAgICAgICAgcmV0dXJuew0KICAgICAgICAgICAgYWN0aXZlOicnDQogICAgICAgIH0NCiAgICB9LA0KICAgIHdhdGNoOnsNCiAgICAgICAgdGFnKCkgew0KICAgICAgICAgICAgdGhpcy5zZXRBY3RpdmUoKTsNCiAgICAgICAgfSwNCiAgICB9LA0KICAgIGNvbXB1dGVkOnsNCiAgICAgICAgLi4ubWFwR2V0dGVycyhbJ3RhZ0xpc3QnLCd0YWcnXSkNCiAgICB9LA0KICAgIG1vdW50ZWQoKXsNCiAgICAgICAgLy/liJ3mrKHliqDovb3vvIzorr7nva7lvZPliY10YWfpgInkuK3nirbmgIENCiAgICAgICAgdGhpcy5zZXRBY3RpdmUoKQ0KICAgICAgICAvL+aJk+W8gOW9k+WJjeeKtuaAgeagh+etvg0KICAgICAgICB0aGlzLm9wZW5UYWcodGhpcy50YWcpDQogICAgfSwNCiAgICBtZXRob2RzOnsNCiAgICAgICAgLy/ngrnlh7vmoIfnrb4NCiAgICAgICAgb3BlblRhZyhpdGVtKXsNCiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOml0ZW0ubmFtZX0pDQogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoIlNFVF9UQUciLGl0ZW0pDQogICAgICAgIH0sDQogICAgICAgIC8v5Yig6ZmkdGFnDQogICAgICAgIGRlbGV0ZVRhZyh2YWx1ZSwgYWN0aW9uKXsNCiAgICAgICAgICAgIGlmIChhY3Rpb24gPT09ICJyZW1vdmUiKSB7DQogICAgICAgICAgICAgICAgbGV0IHt0YWcsIGtleX0gPSB0aGlzLmZpbmRUYWcodmFsdWUpOw0KICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiREVMX1RBRyIsIHRhZyk7DQogICAgICAgICAgICAgICAgaWYgKHRhZy5wYXRoID09PSB0aGlzLnRhZy5wYXRoKSB7DQogICAgICAgICAgICAgICAgICAgIHRhZyA9IHRoaXMudGFnTGlzdFtrZXkgPT09IDAgPyBrZXkgOiBrZXkgLSAxXTsgLy/lpoLmnpzlhbPpl63mnKzmoIfnrb7orqnliY3mjqjkuIDkuKoNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuVGFnKHRhZyk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICAvL+a/gOa0u+W9k+WJjemAiemhuQ0KICAgICAgICBzZXRBY3RpdmUoKSB7DQogICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IHRoaXMudGFnLnBhdGg7DQogICAgICAgIH0sDQogICAgICAgIGZpbmRUYWcodmFsdWUpIHsNCiAgICAgICAgICAgIGxldCB0YWcsIGtleTsNCiAgICAgICAgICAgIHRoaXMudGFnTGlzdC5tYXAoKGl0ZW0sIGluZGV4KSA9PiB7DQogICAgICAgICAgICBpZiAoaXRlbS5wYXRoID09PSB2YWx1ZSkgew0KICAgICAgICAgICAgICAgIHRhZyA9IGl0ZW07DQogICAgICAgICAgICAgICAga2V5ID0gaW5kZXg7DQogICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIHJldHVybiB7dGFnOiB0YWcsIGtleToga2V5fTsNCiAgICAgICAgfSwNCiAgICB9DQp9DQo="},{"version":3,"sources":["tags.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"tags.vue","sourceRoot":"src/page/index","sourcesContent":["<template>\r\n  <div class=\"tags-wrapper\">\r\n    <el-tabs v-model=\"active\"\r\n        type=\"card\"\r\n        @contextmenu.native=\"handleContextmenu\"\r\n        :closable=\"tagList.length!==1\"\r\n        @tab-click=\"openTag(findTag(active).tag)\"\r\n        @edit=\"deleteTag\">\r\n        <el-tab-pane \r\n            :key=\"item.path\"\r\n            v-for=\"item in tagList\"\r\n            :label=\"item.label\"\r\n            :name=\"item.path\"\r\n            :class=\"{'first-none-close':!item.close}\"\r\n        >\r\n        </el-tab-pane>\r\n\r\n    </el-tabs>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapGetters} from \"vuex\";\r\nexport default {\r\n    data(){\r\n        return{\r\n            active:''\r\n        }\r\n    },\r\n    watch:{\r\n        tag() {\r\n            this.setActive();\r\n        },\r\n    },\r\n    computed:{\r\n        ...mapGetters(['tagList','tag'])\r\n    },\r\n    mounted(){\r\n        //初次加载，设置当前tag选中状态\r\n        this.setActive()\r\n        //打开当前状态标签\r\n        this.openTag(this.tag)\r\n    },\r\n    methods:{\r\n        //点击标签\r\n        openTag(item){\r\n            this.$router.push({name:item.name})\r\n            this.$store.commit(\"SET_TAG\",item)\r\n        },\r\n        //删除tag\r\n        deleteTag(value, action){\r\n            if (action === \"remove\") {\r\n                let {tag, key} = this.findTag(value);\r\n                this.$store.commit(\"DEL_TAG\", tag);\r\n                if (tag.path === this.tag.path) {\r\n                    tag = this.tagList[key === 0 ? key : key - 1]; //如果关闭本标签让前推一个\r\n                    this.openTag(tag);\r\n                }\r\n            }\r\n        },\r\n        //激活当前选项\r\n        setActive() {\r\n            this.active = this.tag.path;\r\n        },\r\n        findTag(value) {\r\n            let tag, key;\r\n            this.tagList.map((item, index) => {\r\n            if (item.path === value) {\r\n                tag = item;\r\n                key = index;\r\n            }\r\n            });\r\n            return {tag: tag, key: key};\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.tags-wrapper{\r\n    .el-tabs__item:first-child{\r\n        .el-icon-close{\r\n            display: none !important;\r\n        }\r\n    }\r\n    .el-tabs{\r\n        height: 40px;\r\n        .el-tabs__nav{\r\n            border:none !important;\r\n        }\r\n        .el-tabs__item{\r\n            border:none !important;\r\n            // padding: 0 10px;\r\n        } \r\n    }\r\n    .el-tabs__header {\r\n        margin:0;\r\n        .el-tabs__item.is-active{\r\n            color: #409EFF;\r\n            border-bottom: 3px solid #409EFF;\r\n        }   \r\n    }\r\n    .el-tabs__item{\r\n        color:$textColor;\r\n    }\r\n}\r\n\r\n</style>"]}]}