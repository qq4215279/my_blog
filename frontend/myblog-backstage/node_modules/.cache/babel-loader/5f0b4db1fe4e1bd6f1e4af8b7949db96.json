{"remainingRequest":"D:\\data\\GoWorkSpace\\src\\github.com.qq4215279\\MyBlog\\frontend\\myblog-backstage\\node_modules\\babel-loader\\lib\\index.js!D:\\data\\GoWorkSpace\\src\\github.com.qq4215279\\MyBlog\\frontend\\myblog-backstage\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\data\\GoWorkSpace\\src\\github.com.qq4215279\\MyBlog\\frontend\\myblog-backstage\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\data\\GoWorkSpace\\src\\github.com.qq4215279\\MyBlog\\frontend\\myblog-backstage\\src\\page\\index\\tags.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\data\\GoWorkSpace\\src\\github.com.qq4215279\\MyBlog\\frontend\\myblog-backstage\\src\\page\\index\\tags.vue","mtime":1616327517476},{"path":"D:\\data\\GoWorkSpace\\src\\github.com.qq4215279\\MyBlog\\frontend\\myblog-backstage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\data\\GoWorkSpace\\src\\github.com.qq4215279\\MyBlog\\frontend\\myblog-backstage\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\data\\GoWorkSpace\\src\\github.com.qq4215279\\MyBlog\\frontend\\myblog-backstage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\data\\GoWorkSpace\\src\\github.com.qq4215279\\MyBlog\\frontend\\myblog-backstage\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovZGF0YS9Hb1dvcmtTcGFjZS9zcmMvZ2l0aHViLmNvbS5xcTQyMTUyNzkvTXlCbG9nL2Zyb250ZW5kL215YmxvZy1iYWNrc3RhZ2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFjdGl2ZTogJycKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgdGFnOiBmdW5jdGlvbiB0YWcoKSB7CiAgICAgIHRoaXMuc2V0QWN0aXZlKCk7CiAgICB9CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhbJ3RhZ0xpc3QnLCAndGFnJ10pKSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgLy/liJ3mrKHliqDovb3vvIzorr7nva7lvZPliY10YWfpgInkuK3nirbmgIEKICAgIHRoaXMuc2V0QWN0aXZlKCk7IC8v5omT5byA5b2T5YmN54q25oCB5qCH562+CgogICAgdGhpcy5vcGVuVGFnKHRoaXMudGFnKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8v54K55Ye75qCH562+CiAgICBvcGVuVGFnOiBmdW5jdGlvbiBvcGVuVGFnKGl0ZW0pIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6IGl0ZW0ubmFtZQogICAgICB9KTsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJTRVRfVEFHIiwgaXRlbSk7CiAgICB9LAogICAgLy/liKDpmaR0YWcKICAgIGRlbGV0ZVRhZzogZnVuY3Rpb24gZGVsZXRlVGFnKHZhbHVlLCBhY3Rpb24pIHsKICAgICAgaWYgKGFjdGlvbiA9PT0gInJlbW92ZSIpIHsKICAgICAgICB2YXIgX3RoaXMkZmluZFRhZyA9IHRoaXMuZmluZFRhZyh2YWx1ZSksCiAgICAgICAgICAgIHRhZyA9IF90aGlzJGZpbmRUYWcudGFnLAogICAgICAgICAgICBrZXkgPSBfdGhpcyRmaW5kVGFnLmtleTsKCiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJERUxfVEFHIiwgdGFnKTsKCiAgICAgICAgaWYgKHRhZy5wYXRoID09PSB0aGlzLnRhZy5wYXRoKSB7CiAgICAgICAgICB0YWcgPSB0aGlzLnRhZ0xpc3Rba2V5ID09PSAwID8ga2V5IDoga2V5IC0gMV07IC8v5aaC5p6c5YWz6Zet5pys5qCH562+6K6p5YmN5o6o5LiA5LiqCgogICAgICAgICAgdGhpcy5vcGVuVGFnKHRhZyk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgLy/mv4DmtLvlvZPliY3pgInpobkKICAgIHNldEFjdGl2ZTogZnVuY3Rpb24gc2V0QWN0aXZlKCkgewogICAgICB0aGlzLmFjdGl2ZSA9IHRoaXMudGFnLnBhdGg7CiAgICB9LAogICAgZmluZFRhZzogZnVuY3Rpb24gZmluZFRhZyh2YWx1ZSkgewogICAgICB2YXIgdGFnLCBrZXk7CiAgICAgIHRoaXMudGFnTGlzdC5tYXAoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgaWYgKGl0ZW0ucGF0aCA9PT0gdmFsdWUpIHsKICAgICAgICAgIHRhZyA9IGl0ZW07CiAgICAgICAgICBrZXkgPSBpbmRleDsKICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gewogICAgICAgIHRhZzogdGFnLAogICAgICAgIGtleToga2V5CiAgICAgIH07CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["tags.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAsBA,SAAA,UAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,MAAA,EAAA;AADA,KAAA;AAGA,GALA;AAMA,EAAA,KAAA,EAAA;AACA,IAAA,GADA,iBACA;AACA,WAAA,SAAA;AACA;AAHA,GANA;AAWA,EAAA,QAAA,oBACA,UAAA,CAAA,CAAA,SAAA,EAAA,KAAA,CAAA,CADA,CAXA;AAcA,EAAA,OAdA,qBAcA;AACA;AACA,SAAA,SAAA,GAFA,CAGA;;AACA,SAAA,OAAA,CAAA,KAAA,GAAA;AACA,GAnBA;AAoBA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,OAFA,mBAEA,IAFA,EAEA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA,IAAA,CAAA;AAAA,OAAA;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,SAAA,EAAA,IAAA;AACA,KALA;AAMA;AACA,IAAA,SAPA,qBAOA,KAPA,EAOA,MAPA,EAOA;AACA,UAAA,MAAA,KAAA,QAAA,EAAA;AAAA,4BACA,KAAA,OAAA,CAAA,KAAA,CADA;AAAA,YACA,GADA,iBACA,GADA;AAAA,YACA,GADA,iBACA,GADA;;AAEA,aAAA,MAAA,CAAA,MAAA,CAAA,SAAA,EAAA,GAAA;;AACA,YAAA,GAAA,CAAA,IAAA,KAAA,KAAA,GAAA,CAAA,IAAA,EAAA;AACA,UAAA,GAAA,GAAA,KAAA,OAAA,CAAA,GAAA,KAAA,CAAA,GAAA,GAAA,GAAA,GAAA,GAAA,CAAA,CAAA,CADA,CACA;;AACA,eAAA,OAAA,CAAA,GAAA;AACA;AACA;AACA,KAhBA;AAiBA;AACA,IAAA,SAlBA,uBAkBA;AACA,WAAA,MAAA,GAAA,KAAA,GAAA,CAAA,IAAA;AACA,KApBA;AAqBA,IAAA,OArBA,mBAqBA,KArBA,EAqBA;AACA,UAAA,GAAA,EAAA,GAAA;AACA,WAAA,OAAA,CAAA,GAAA,CAAA,UAAA,IAAA,EAAA,KAAA,EAAA;AACA,YAAA,IAAA,CAAA,IAAA,KAAA,KAAA,EAAA;AACA,UAAA,GAAA,GAAA,IAAA;AACA,UAAA,GAAA,GAAA,KAAA;AACA;AACA,OALA;AAMA,aAAA;AAAA,QAAA,GAAA,EAAA,GAAA;AAAA,QAAA,GAAA,EAAA;AAAA,OAAA;AACA;AA9BA;AApBA,CAAA","sourcesContent":["<template>\r\n  <div class=\"tags-wrapper\">\r\n    <el-tabs v-model=\"active\"\r\n        type=\"card\"\r\n        @contextmenu.native=\"handleContextmenu\"\r\n        :closable=\"tagList.length!==1\"\r\n        @tab-click=\"openTag(findTag(active).tag)\"\r\n        @edit=\"deleteTag\">\r\n        <el-tab-pane \r\n            :key=\"item.path\"\r\n            v-for=\"item in tagList\"\r\n            :label=\"item.label\"\r\n            :name=\"item.path\"\r\n            :class=\"{'first-none-close':!item.close}\"\r\n        >\r\n        </el-tab-pane>\r\n\r\n    </el-tabs>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapGetters} from \"vuex\";\r\nexport default {\r\n    data(){\r\n        return{\r\n            active:''\r\n        }\r\n    },\r\n    watch:{\r\n        tag() {\r\n            this.setActive();\r\n        },\r\n    },\r\n    computed:{\r\n        ...mapGetters(['tagList','tag'])\r\n    },\r\n    mounted(){\r\n        //初次加载，设置当前tag选中状态\r\n        this.setActive()\r\n        //打开当前状态标签\r\n        this.openTag(this.tag)\r\n    },\r\n    methods:{\r\n        //点击标签\r\n        openTag(item){\r\n            this.$router.push({name:item.name})\r\n            this.$store.commit(\"SET_TAG\",item)\r\n        },\r\n        //删除tag\r\n        deleteTag(value, action){\r\n            if (action === \"remove\") {\r\n                let {tag, key} = this.findTag(value);\r\n                this.$store.commit(\"DEL_TAG\", tag);\r\n                if (tag.path === this.tag.path) {\r\n                    tag = this.tagList[key === 0 ? key : key - 1]; //如果关闭本标签让前推一个\r\n                    this.openTag(tag);\r\n                }\r\n            }\r\n        },\r\n        //激活当前选项\r\n        setActive() {\r\n            this.active = this.tag.path;\r\n        },\r\n        findTag(value) {\r\n            let tag, key;\r\n            this.tagList.map((item, index) => {\r\n            if (item.path === value) {\r\n                tag = item;\r\n                key = index;\r\n            }\r\n            });\r\n            return {tag: tag, key: key};\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.tags-wrapper{\r\n    .el-tabs__item:first-child{\r\n        .el-icon-close{\r\n            display: none !important;\r\n        }\r\n    }\r\n    .el-tabs{\r\n        height: 40px;\r\n        .el-tabs__nav{\r\n            border:none !important;\r\n        }\r\n        .el-tabs__item{\r\n            border:none !important;\r\n            // padding: 0 10px;\r\n        } \r\n    }\r\n    .el-tabs__header {\r\n        margin:0;\r\n        .el-tabs__item.is-active{\r\n            color: #409EFF;\r\n            border-bottom: 3px solid #409EFF;\r\n        }   \r\n    }\r\n    .el-tabs__item{\r\n        color:$textColor;\r\n    }\r\n}\r\n\r\n</style>"],"sourceRoot":"src/page/index"}]}